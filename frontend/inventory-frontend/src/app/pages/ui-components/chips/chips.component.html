<mat-card class="cardWithShadow">
  <mat-card-title>Registro de Proveedor</mat-card-title>
  <mat-card-subtitle>Complete los datos del proveedor o cliente</mat-card-subtitle>

  <form class="form-grid" (ngSubmit)="guardarProveedor()" #proveedorForm="ngForm">
    <!-- CAMBIA 'nombre' por 'razonSocial' -->
    <mat-form-field appearance="outline">
      <mat-label>Razón Social *</mat-label>
      <input matInput [(ngModel)]="proveedor.razonSocial" name="razonSocial" placeholder="Razón social" required />
    </mat-form-field>

    <!-- CAMBIA 'ruc' por 'nroDocumento' y 'tipoDocumento' -->
    <mat-form-field appearance="outline">
      <mat-label>Tipo de Documento</mat-label>
      <mat-select [(ngModel)]="proveedor.tipoDocumento" name="tipoDocumento">
        <mat-option value="RUC">RUC</mat-option>
        <mat-option value="DNI">DNI</mat-option>
      </mat-select>
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Número de Documento *</mat-label>
      <input matInput maxlength="11" [(ngModel)]="proveedor.nroDocumento" name="nroDocumento" placeholder="Ingrese documento" required />
    </mat-form-field>

    <!-- ELIMINA 'contacto' ya que no existe en el backend -->
    
    <mat-form-field appearance="outline">
      <mat-label>Teléfono</mat-label>
      <input matInput [(ngModel)]="proveedor.telefono" name="telefono" placeholder="Número telefónico" />
    </mat-form-field>

    <mat-form-field appearance="outline">
      <mat-label>Email</mat-label>
      <input matInput type="email" [(ngModel)]="proveedor.email" name="email" placeholder="Correo electrónico" />
    </mat-form-field>

    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Dirección</mat-label>
      <textarea matInput [(ngModel)]="proveedor.direccion" name="direccion" rows="2" placeholder="Dirección completa o zona"></textarea>
    </mat-form-field>

    <!-- CAMBIA 'observaciones' por 'notas' -->
    <mat-form-field appearance="outline" class="full-width">
      <mat-label>Notas</mat-label>
      <textarea matInput [(ngModel)]="proveedor.notas" name="notas" rows="2" placeholder="Detalles adicionales, condiciones o comentarios"></textarea>
    </mat-form-field>

    <!-- ELIMINA 'tipo' ya que no existe en el backend -->

    <!-- CAMBIA 'condicionesPago' por 'condicionPago' -->
    <mat-form-field appearance="outline">
      <mat-label>Condición de Pago</mat-label>
      <mat-select [(ngModel)]="proveedor.condicionPago" name="condicionPago">
        <mat-option value="EFECTIVO">Contado</mat-option>
        <mat-option value="CREDIT_15_DAYS">Crédito 15 días</mat-option>
        <mat-option value="CREDIT_30_DAYS">Crédito 30 días</mat-option>
        <mat-option value="CREDIT_45_DAYS">Crédito 45 días</mat-option>
        <mat-option value="CREDIT_60_DAYS">Crédito 60 días</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- CAMBIA 'moneda' por valores correctos -->
    <mat-form-field appearance="outline">
      <mat-label>Moneda *</mat-label>
      <mat-select [(ngModel)]="proveedor.moneda" name="moneda" required>
        <mat-option value="PEN">Soles (S/)</mat-option>
        <mat-option value="USD">Dólares ($)</mat-option>
      </mat-select>
    </mat-form-field>

    <!-- ELIMINA 'estado' ya que se maneja con isDeleted -->

    <div class="actions">
      <button mat-raised-button color="primary" type="submit">Guardar</button>
      <button mat-stroked-button color="warn" type="button" (click)="cancelar()">Cancelar</button>
    </div>
  </form>
</mat-card>

<!-- Actualiza también la tabla -->
<div *ngIf="proveedores.length > 0" class="table-container">
  <table mat-table [dataSource]="proveedores" class="mat-elevation-z2">

    <!-- CAMBIA 'nombre' por 'razonSocial' -->
    <ng-container matColumnDef="razonSocial">
      <th mat-header-cell *matHeaderCellDef>Razón Social</th>
      <td mat-cell *matCellDef="let p">{{ p.razonSocial }}</td>
    </ng-container>

    <!-- CAMBIA 'ruc' por 'nroDocumento' -->
    <ng-container matColumnDef="nroDocumento">
      <th mat-header-cell *matHeaderCellDef>Documento</th>
      <td mat-cell *matCellDef="let p">{{ p.nroDocumento }}</td>
    </ng-container>

    <!-- ELIMINA 'contacto' -->

    <ng-container matColumnDef="telefono">
      <th mat-header-cell *matHeaderCellDef>Teléfono</th>
      <td mat-cell *matCellDef="let p">{{ p.telefono }}</td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let p">{{ p.email }}</td>
    </ng-container>

    <!-- ELIMINA 'tipo' y 'estado' -->

    <tr mat-header-row *matHeaderRowDef="columnas"></tr>
    <tr mat-row *matRowDef="let row; columns: columnas;"></tr>
  </table>
</div>