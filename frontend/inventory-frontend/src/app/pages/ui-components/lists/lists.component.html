<mat-card class="cardWithShadow">
  <mat-card-content>
    <mat-card-title>Ficha del Cliente</mat-card-title>
    <mat-card-subtitle>Registro y gesti√≥n de clientes</mat-card-subtitle>

    <form class="cliente-form" autocomplete="off">
      <!-- üßæ Identificaci√≥n -->
      <section class="section">
        <h3>Identificaci√≥n</h3>
        <div class="form-grid">
          <mat-form-field appearance="outline">
            <mat-label>C√≥digo</mat-label>
            <input matInput [(ngModel)]="cliente.codigo" name="codigo" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>RUC</mat-label>
            <input matInput [(ngModel)]="cliente.ruc" name="ruc" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Raz√≥n Social</mat-label>
            <input matInput [(ngModel)]="cliente.razonSocial" name="razonSocial" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Representante</mat-label>
            <input matInput [(ngModel)]="cliente.representante" name="representante" />
          </mat-form-field>
        </div>
      </section>

      <!-- ‚òéÔ∏è Contacto -->
      <section class="section">
        <h3>Contacto</h3>
        <div class="form-grid">
          <mat-form-field appearance="outline">
            <mat-label>Tel√©fono</mat-label>
            <input matInput [(ngModel)]="cliente.telefono" name="telefono" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Email</mat-label>
            <input matInput type="email" [(ngModel)]="cliente.email" name="email" />
          </mat-form-field>
        </div>
      </section>

      <!-- üìç Ubicaci√≥n -->
      <section class="section">
        <h3>Ubicaci√≥n</h3>
        <div class="form-grid">
          <mat-form-field appearance="outline" class="col-span-2">
            <mat-label>Direcci√≥n</mat-label>
            <input matInput [(ngModel)]="cliente.direccion" name="direccion" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Zona / Sector</mat-label>
            <input matInput [(ngModel)]="cliente.zona" name="zona" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Departamento</mat-label>
            <input matInput [(ngModel)]="cliente.departamento" name="departamento" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Provincia</mat-label>
            <input matInput [(ngModel)]="cliente.provincia" name="provincia" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Distrito</mat-label>
            <input matInput [(ngModel)]="cliente.distrito" name="distrito" />
          </mat-form-field>
        </div>
      </section>

      <!-- üè∑Ô∏è Clasificaci√≥n -->
      <section class="section">
        <h3>Clasificaci√≥n</h3>
        <div class="form-grid">
          <mat-form-field appearance="outline">
            <mat-label>Tipo de cliente</mat-label>
            <mat-select [(ngModel)]="cliente.tipoCliente" name="tipoCliente">
              <mat-option value="Minorista">Minorista</mat-option>
              <mat-option value="Mayorista">Mayorista</mat-option>
              <mat-option value="Industrial">Industrial</mat-option>
              <mat-option value="Distribuidor">Distribuidor</mat-option>
              <mat-option value="Otro">Otro</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Rubro / Sector</mat-label>
            <input matInput [(ngModel)]="cliente.rubro" name="rubro" />
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Condiciones de pago</mat-label>
            <mat-select [(ngModel)]="cliente.condicionesPago" name="condicionesPago">
              <mat-option value="Contado">Contado</mat-option>
              <mat-option value="Cr√©dito 15d">Cr√©dito 15 d√≠as</mat-option>
              <mat-option value="Cr√©dito 30d">Cr√©dito 30 d√≠as</mat-option>
              <mat-option value="Cr√©dito 45d">Cr√©dito 45 d√≠as</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>L√≠mite de cr√©dito (S/)</mat-label>
            <input matInput type="number" [(ngModel)]="cliente.limiteCredito" name="limiteCredito" />
          </mat-form-field>
        </div>
      </section>

      <!-- üóìÔ∏è Fechas y estado -->
      <section class="section">
        <h3>Estado y Fechas</h3>
        <div class="form-grid">
          <mat-form-field appearance="outline">
            <mat-label>Estado</mat-label>
            <mat-select [(ngModel)]="cliente.estado" name="estado">
              <mat-option value="Activo">Activo</mat-option>
              <mat-option value="Inactivo">Inactivo</mat-option>
              <mat-option value="Bloqueado">Bloqueado</mat-option>
            </mat-select>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>Fecha de registro</mat-label>
            <input matInput [matDatepicker]="regPicker" [(ngModel)]="cliente.fechaRegistro" name="fechaRegistro" />
            <mat-datepicker-toggle matIconSuffix [for]="regPicker"></mat-datepicker-toggle>
            <mat-datepicker #regPicker></mat-datepicker>
          </mat-form-field>

          <mat-form-field appearance="outline">
            <mat-label>√öltima compra</mat-label>
            <input matInput [matDatepicker]="ultPicker" [(ngModel)]="cliente.ultimaCompra" name="ultimaCompra" />
            <mat-datepicker-toggle matIconSuffix [for]="ultPicker"></mat-datepicker-toggle>
            <mat-datepicker #ultPicker></mat-datepicker>
          </mat-form-field>
        </div>
      </section>

      <!-- üìù Notas -->
      <section class="section">
        <h3>Notas</h3>
        <mat-form-field appearance="outline" class="descripcion">
          <mat-label>Observaciones</mat-label>
          <textarea matInput rows="3" [(ngModel)]="cliente.notas" name="notas"></textarea>
        </mat-form-field>
      </section>

      <!-- ‚öôÔ∏è Acciones -->
      <div class="actions">
        <button mat-stroked-button color="primary" (click)="guardar()">
          <mat-icon>save</mat-icon> Guardar
        </button>
        <button mat-flat-button color="accent" (click)="verKardexCompras()">
          <mat-icon>history</mat-icon> Historial de compras
        </button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
